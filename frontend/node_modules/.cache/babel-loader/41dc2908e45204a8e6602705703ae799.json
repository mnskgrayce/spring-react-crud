{"ast":null,"code":"var _jsxFileName = \"/Users/minesk/Projects/spring-react-crud/frontend/src/components/StudentTable.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { useHistory } from \"react-router-dom\"; // import StudentForm from \"./StudentForm\";\n// import Search from \"./Search\";\n\nimport ReactPaginate from \"react-paginate\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport function StudentTable() {\n  _s();\n\n  const [students, setStudents] = useState([]);\n  const [query, setQuery] = useState(\"\");\n  const [sortBy] = useState(\"fullName\");\n  const [orderBy] = useState(\"asc\");\n  const [pageNumber, setPageNumber] = useState(0);\n  const studentsPerPage = 5;\n  const pageCount = Math.ceil(students.length / studentsPerPage);\n  const entriesVisited = pageNumber * studentsPerPage;\n\n  const changePage = ({\n    selected\n  }) => {\n    setPageNumber(selected);\n  };\n\n  const history = useHistory(); // Load student list at refresh\n\n  useEffect(() => {\n    axios.get(`/api/students`).then(response => setStudents(response.data)).catch(error => console.log(error));\n  }, []); // Filter and sort students by query and order\n\n  const filteredStudents = students.filter(student => {\n    return student.fullName.toLowerCase().includes(query.toLowerCase()) || student.parentName.toLowerCase().includes(query.toLowerCase()) || student.email.toLowerCase().includes(query.toLowerCase()) || student.address.toLowerCase().includes(query.toLowerCase());\n  }).sort((a, b) => {\n    let order = orderBy === \"asc\" ? 1 : -1;\n    return a[sortBy].toLowerCase() < b[sortBy].toLowerCase() ? -1 * order : 1 * order;\n  }); // Display students in a table with pagination\n\n  const paginatedStudents = filteredStudents.slice(entriesVisited, entriesVisited + studentsPerPage).map((student, key) => {\n    return /*#__PURE__*/_jsxDEV(\"tr\", {\n      className: \"\",\n      children: [/*#__PURE__*/_jsxDEV(\"td\", {\n        children: student.fullName\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        children: student.parentName\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        children: student.grade\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        children: student.email\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        children: student.phone\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        children: student.address\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"field is-grouped is-block\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"control\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"button is-small is-warning\",\n              onClick: () => history.push(`/student/${student.id}`),\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"icon is-small\",\n                children: /*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fas fa-edit\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 70,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 69,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Edit\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 72,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"control\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"button is-small is-danger\",\n              onClick: () => onDeleteStudent(student.id),\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"icon is-small\",\n                children: /*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fas fa-trash\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 81,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 80,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Delete\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 83,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 11\n      }, this)]\n    }, key, true, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 9\n    }, this);\n  });\n\n  const onDeleteStudent = async id => {\n    axios.delete(`/api/student/${id}`).then(response => {\n      console.log(response.status, response.data);\n    }).catch(error => console.error(error));\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"table\", {\n      className: \"table is-bordered is-striped is-narrow is-hoverable is-fullwidth\",\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: [/*#__PURE__*/_jsxDEV(\"th\", {\n          children: \"Full Name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n          children: \"Parent Name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n          children: \"Grade\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n          children: \"Email\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n          children: \"Phone\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n          children: \"Address\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: paginatedStudents\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ReactPaginate, {\n      previousLabel: \"<<\",\n      nextLabel: \">>\",\n      pageCount: pageCount,\n      onPageChange: changePage,\n      containerClassName: \"\",\n      pageLinkClassName: \"\",\n      previousLinkClassName: \"\",\n      nextLinkClassName: \"\",\n      activeLinkClassName: \"\",\n      disabledClassName: \"\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n\n_s(StudentTable, \"V0Oajt5BOMi8qar6ZrBahdoub4s=\", false, function () {\n  return [useHistory];\n});\n\n_c = StudentTable;\n\nvar _c;\n\n$RefreshReg$(_c, \"StudentTable\");","map":{"version":3,"sources":["/Users/minesk/Projects/spring-react-crud/frontend/src/components/StudentTable.js"],"names":["React","useEffect","useState","axios","useHistory","ReactPaginate","StudentTable","students","setStudents","query","setQuery","sortBy","orderBy","pageNumber","setPageNumber","studentsPerPage","pageCount","Math","ceil","length","entriesVisited","changePage","selected","history","get","then","response","data","catch","error","console","log","filteredStudents","filter","student","fullName","toLowerCase","includes","parentName","email","address","sort","a","b","order","paginatedStudents","slice","map","key","grade","phone","push","id","onDeleteStudent","delete","status"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { useHistory } from \"react-router-dom\";\n// import StudentForm from \"./StudentForm\";\n// import Search from \"./Search\";\nimport ReactPaginate from \"react-paginate\";\n\nexport function StudentTable() {\n  const [students, setStudents] = useState([]);\n  const [query, setQuery] = useState(\"\");\n  const [sortBy] = useState(\"fullName\");\n  const [orderBy] = useState(\"asc\");\n  const [pageNumber, setPageNumber] = useState(0);\n\n  const studentsPerPage = 5;\n  const pageCount = Math.ceil(students.length / studentsPerPage);\n  const entriesVisited = pageNumber * studentsPerPage;\n\n  const changePage = ({ selected }) => {\n    setPageNumber(selected);\n  };\n\n  const history = useHistory();\n\n  // Load student list at refresh\n  useEffect(() => {\n    axios\n      .get(`/api/students`)\n      .then((response) => setStudents(response.data))\n      .catch((error) => console.log(error));\n  }, []);\n\n  // Filter and sort students by query and order\n  const filteredStudents = students\n    .filter((student) => {\n      return (\n        student.fullName.toLowerCase().includes(query.toLowerCase()) ||\n        student.parentName.toLowerCase().includes(query.toLowerCase()) ||\n        student.email.toLowerCase().includes(query.toLowerCase()) ||\n        student.address.toLowerCase().includes(query.toLowerCase())\n      );\n    })\n    .sort((a, b) => {\n      let order = orderBy === \"asc\" ? 1 : -1;\n      return a[sortBy].toLowerCase() < b[sortBy].toLowerCase()\n        ? -1 * order\n        : 1 * order;\n    });\n\n  // Display students in a table with pagination\n  const paginatedStudents = filteredStudents\n    .slice(entriesVisited, entriesVisited + studentsPerPage)\n    .map((student, key) => {\n      return (\n        <tr key={key} className=\"\">\n          <td>{student.fullName}</td>\n          <td>{student.parentName}</td>\n          <td>{student.grade}</td>\n          <td>{student.email}</td>\n          <td>{student.phone}</td>\n          <td>{student.address}</td>\n          <td>\n            <div className=\"field is-grouped is-block\">\n              <p className=\"control\">\n                <button\n                  className=\"button is-small is-warning\"\n                  onClick={() => history.push(`/student/${student.id}`)}\n                >\n                  <span className=\"icon is-small\">\n                    <i className=\"fas fa-edit\"></i>\n                  </span>\n                  <span>Edit</span>\n                </button>\n              </p>\n              <p className=\"control\">\n                <button\n                  className=\"button is-small is-danger\"\n                  onClick={() => onDeleteStudent(student.id)}\n                >\n                  <span className=\"icon is-small\">\n                    <i className=\"fas fa-trash\"></i>\n                  </span>\n                  <span>Delete</span>\n                </button>\n              </p>\n            </div>\n          </td>\n        </tr>\n      );\n    });\n\n  const onDeleteStudent = async (id) => {\n    axios\n      .delete(`/api/student/${id}`)\n      .then((response) => {\n        console.log(response.status, response.data);\n      })\n      .catch((error) => console.error(error));\n  };\n\n  return (\n    <>\n      <table className=\"table is-bordered is-striped is-narrow is-hoverable is-fullwidth\">\n        <thead>\n          <th>Full Name</th>\n          <th>Parent Name</th>\n          <th>Grade</th>\n          <th>Email</th>\n          <th>Phone</th>\n          <th>Address</th>\n        </thead>\n        <tbody>{paginatedStudents}</tbody>\n      </table>\n      <ReactPaginate\n        previousLabel={\"<<\"}\n        nextLabel={\">>\"}\n        pageCount={pageCount}\n        onPageChange={changePage}\n        containerClassName={\"\"}\n        pageLinkClassName={\"\"}\n        previousLinkClassName={\"\"}\n        nextLinkClassName={\"\"}\n        activeLinkClassName={\"\"}\n        disabledClassName={\"\"}\n      ></ReactPaginate>\n    </>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}