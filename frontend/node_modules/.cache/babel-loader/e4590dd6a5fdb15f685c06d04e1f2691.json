{"ast":null,"code":"var _jsxFileName = \"/Users/minesk/Projects/spring-react-crud/frontend/src/components/StudentTable.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport axios from \"axios\";\nimport { useHistory } from \"react-router-dom\";\nimport ReactPaginate from \"react-paginate\";\nimport { SearchBar } from \"./SearchBar\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport function StudentTable({\n  students\n}) {\n  _s();\n\n  const [query, setQuery] = useState(\"\");\n  const [sortBy] = useState(\"fullName\");\n  const [orderBy] = useState(\"asc\");\n  const [pageNumber, setPageNumber] = useState(0);\n  let history = useHistory(); // Filter and sort students by query and order\n\n  const filteredStudents = students.filter(student => {\n    return student.fullName.toLowerCase().includes(\"\");\n  }).sort((a, b) => {\n    let order = orderBy === \"asc\" ? 1 : -1;\n    return a[sortBy].toLowerCase() < b[sortBy].toLowerCase() ? -1 * order : 1 * order;\n  }); // Pagination setup\n\n  const studentsPerPage = 5;\n  const pageCount = Math.ceil(students.length / studentsPerPage);\n  const entriesVisited = pageNumber * studentsPerPage;\n\n  const changePage = ({\n    selected\n  }) => {\n    setPageNumber(selected);\n  }; // Call API to delete a student\n\n\n  const onDeleteStudent = async id => {\n    axios.delete(`/api/student/${id}`).then(response => {\n      console.log(\"Delete:\");\n      console.log(response.status, response.data);\n    }).catch(error => console.error(error));\n  }; // Display students in a table with pagination\n\n\n  const paginatedStudents = filteredStudents.slice(entriesVisited, entriesVisited + studentsPerPage).map((student, key) => {\n    return /*#__PURE__*/_jsxDEV(\"tr\", {\n      className: \"\",\n      children: [/*#__PURE__*/_jsxDEV(\"td\", {\n        children: student.fullName\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        children: student.parentName\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        children: student.grade\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        children: student.email\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        children: student.phone\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        children: student.address\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"is-flex is-flex-direction-row is-justify-content-center\\t\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"button is-small is-warning mx-1\",\n            onClick: () => history.push(`/student/${student.id}`),\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"icon is-small\",\n              children: /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fas fa-edit\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 66,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Edit\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 68,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"button is-small is-danger mx-1\",\n            onClick: () => onDeleteStudent(student.id),\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"icon is-small\",\n              children: /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fas fa-trash\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 75,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Delete\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 11\n      }, this)]\n    }, key, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }, this);\n  });\n  return students ? /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(SearchBar, {\n      query: query,\n      onQueryChange: myQuery => setQuery(myQuery)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n      className: \"table is-bordered is-striped is-narrow is-hoverable is-fullwidth\",\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Full Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Parent Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Grade\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Email\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Phone\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Address\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: paginatedStudents\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ReactPaginate, {\n      previousLabel: /*#__PURE__*/_jsxDEV(\"i\", {\n        className: \"fas fa-chevron-left\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 24\n      }, this),\n      nextLabel: /*#__PURE__*/_jsxDEV(\"i\", {\n        className: \"fas fa-chevron-right\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 20\n      }, this),\n      pageCount: pageCount,\n      onPageChange: changePage,\n      containerClassName: \"my-pagination-container\",\n      pageLinkClassName: \"pagination-link\",\n      previousLinkClassName: \"pagination-previous\",\n      nextLinkClassName: \"pagination-next\",\n      activeLinkClassName: \"pagination-link is-current\",\n      breakLinkClassName: \"pagination-ellipsis\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true) : /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"Loading...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 117,\n    columnNumber: 5\n  }, this);\n}\n\n_s(StudentTable, \"ua53ssD6qOMFOpM4Rqlx6myMxhs=\", false, function () {\n  return [useHistory];\n});\n\n_c = StudentTable;\n\nvar _c;\n\n$RefreshReg$(_c, \"StudentTable\");","map":{"version":3,"sources":["/Users/minesk/Projects/spring-react-crud/frontend/src/components/StudentTable.js"],"names":["React","useState","axios","useHistory","ReactPaginate","SearchBar","StudentTable","students","query","setQuery","sortBy","orderBy","pageNumber","setPageNumber","history","filteredStudents","filter","student","fullName","toLowerCase","includes","sort","a","b","order","studentsPerPage","pageCount","Math","ceil","length","entriesVisited","changePage","selected","onDeleteStudent","id","delete","then","response","console","log","status","data","catch","error","paginatedStudents","slice","map","key","parentName","grade","email","phone","address","push","myQuery"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport axios from \"axios\";\nimport { useHistory } from \"react-router-dom\";\nimport ReactPaginate from \"react-paginate\";\nimport { SearchBar } from \"./SearchBar\";\n\nexport function StudentTable({ students }) {\n  const [query, setQuery] = useState(\"\");\n  const [sortBy] = useState(\"fullName\");\n  const [orderBy] = useState(\"asc\");\n  const [pageNumber, setPageNumber] = useState(0);\n\n  let history = useHistory();\n\n  // Filter and sort students by query and order\n  const filteredStudents = students\n    .filter((student) => {\n      return student.fullName.toLowerCase().includes(\"\");\n    })\n    .sort((a, b) => {\n      let order = orderBy === \"asc\" ? 1 : -1;\n      return a[sortBy].toLowerCase() < b[sortBy].toLowerCase()\n        ? -1 * order\n        : 1 * order;\n    });\n\n  // Pagination setup\n  const studentsPerPage = 5;\n  const pageCount = Math.ceil(students.length / studentsPerPage);\n  const entriesVisited = pageNumber * studentsPerPage;\n\n  const changePage = ({ selected }) => {\n    setPageNumber(selected);\n  };\n\n  // Call API to delete a student\n  const onDeleteStudent = async (id) => {\n    axios\n      .delete(`/api/student/${id}`)\n      .then((response) => {\n        console.log(\"Delete:\");\n        console.log(response.status, response.data);\n      })\n      .catch((error) => console.error(error));\n  };\n\n  // Display students in a table with pagination\n  const paginatedStudents = filteredStudents\n    .slice(entriesVisited, entriesVisited + studentsPerPage)\n    .map((student, key) => {\n      return (\n        <tr key={key} className=\"\">\n          <td>{student.fullName}</td>\n          <td>{student.parentName}</td>\n          <td>{student.grade}</td>\n          <td>{student.email}</td>\n          <td>{student.phone}</td>\n          <td>{student.address}</td>\n          <td>\n            <div className=\"is-flex is-flex-direction-row is-justify-content-center\t\">\n              <button\n                className=\"button is-small is-warning mx-1\"\n                onClick={() => history.push(`/student/${student.id}`)}\n              >\n                <span className=\"icon is-small\">\n                  <i className=\"fas fa-edit\"></i>\n                </span>\n                <span>Edit</span>\n              </button>\n              <button\n                className=\"button is-small is-danger mx-1\"\n                onClick={() => onDeleteStudent(student.id)}\n              >\n                <span className=\"icon is-small\">\n                  <i className=\"fas fa-trash\"></i>\n                </span>\n                <span>Delete</span>\n              </button>\n            </div>\n          </td>\n        </tr>\n      );\n    });\n\n  return students ? (\n    <>\n      <SearchBar query={query} onQueryChange={(myQuery) => setQuery(myQuery)} />\n      <table className=\"table is-bordered is-striped is-narrow is-hoverable is-fullwidth\">\n        <thead>\n          <tr>\n            <th>Full Name</th>\n            <th>Parent Name</th>\n            <th>Grade</th>\n            <th>Email</th>\n            <th>Phone</th>\n            <th>Address</th>\n            <th></th>\n          </tr>\n        </thead>\n        <tbody>{paginatedStudents}</tbody>\n      </table>\n\n      <ReactPaginate\n        previousLabel={<i className=\"fas fa-chevron-left\"></i>}\n        nextLabel={<i className=\"fas fa-chevron-right\"></i>}\n        pageCount={pageCount}\n        onPageChange={changePage}\n        containerClassName={\"my-pagination-container\"}\n        pageLinkClassName={\"pagination-link\"}\n        previousLinkClassName={\"pagination-previous\"}\n        nextLinkClassName={\"pagination-next\"}\n        activeLinkClassName={\"pagination-link is-current\"}\n        breakLinkClassName={\"pagination-ellipsis\"}\n      ></ReactPaginate>\n    </>\n  ) : (\n    <div>Loading...</div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}